package royanmobiletesting;

import java.net.MalformedURLException;
import java.net.URISyntaxException;
import org.openqa.selenium.WebElement;
import org.testng.Assert;
import org.testng.annotations.Test;
import org.w3c.dom.Element;

import io.appium.java_client.AppiumBy;


public class SliderView extends BaseTest{
	
	@Test
	public void SliderViews() throws MalformedURLException, URISyntaxException, InterruptedException {
		driver.findElement(AppiumBy.accessibilityId("Switches")).click();
		String tab1 = driver.findElement(AppiumBy.iOSClassChain("name == \"DEFAULT\" AND label == \"DEFAULT\"")).getText();
		Assert.assertEquals(tab1, "DEFAULT");
		// Wait for 2 seconds
		// Locate the "DEFAULT" label
		Element defaultLabel = (Element) driver.findElement(AppiumBy.iOSNsPredicateString("label == 'DEFAULT'"));
		// Navigate to parent cell
		Element defaultCell = (Element) ((WebElement) defaultLabel).findElement(AppiumBy.xpath(".."));
		// Find the switch inside the same cell and toggle it
		Element defaultSwitch = (Element) ((WebElement) defaultCell).findElement(AppiumBy.iOSClassChain("**/XCUIElementTypeSwitch"));
		// Optional: print current state before toggling
		System.out.println("DEFAULT switch value before: " + defaultSwitch.getAttribute("value"));
		// Toggle the switch
		((WebElement) defaultSwitch).click();
//		String tab2 = driver.findElement(AppiumBy.iOSClassChain("**/XCUIElementTypeOther[`name == \"TINTED\"`][2]")).getText();
//		Assert.assertEquals(tab2, "TINTED");
//		driver.findElement(AppiumBy.iOSClassChain("**/XCUIElementTypeSwitch[`value == \"0\"`]")).click();
//		Thread.sleep(5000);
//		driver.findElement(AppiumBy.iOSClassChain("**/XCUIElementTypeSwitch[`value == \"1\"`][2]")).click();
	}

}
