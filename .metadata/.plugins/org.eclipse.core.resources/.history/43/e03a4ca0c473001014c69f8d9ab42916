package royanmobiletesting;

import java.net.MalformedURLException;
import java.net.URISyntaxException;
import org.openqa.selenium.By;
import org.openqa.selenium.WebElement;
import org.testng.Assert;
import org.testng.annotations.Test;
import io.appium.java_client.AppiumBy;


public class SliderView extends BaseTest{
	
	@Test
	public void SliderViews() throws MalformedURLException, URISyntaxException, InterruptedException {
		driver.findElement(AppiumBy.accessibilityId("Switches")).click();
		String tab1 = driver.findElement(AppiumBy.iOSClassChain("name == \"DEFAULT\" AND label == \"DEFAULT\"")).getText();
		Assert.assertEquals(tab1, "DEFAULT");
		// Locate the "DEFAULT" label using iOS Predicate String
		WebElement defaultLabel = driver.findElement(AppiumBy.iOSNsPredicateString("label == 'DEFAULT'"));

		// Navigate to parent cell (assumes label and switch are in same cell)
		WebElement defaultCell = defaultLabel.findElement(By.xpath(".."));

		// Find the switch inside the same cell using iOS class chain
		WebElement defaultSwitch = defaultCell.findElement(AppiumBy.iOSClassChain("**/XCUIElementTypeSwitch"));

		// Print current switch state
		System.out.println("DEFAULT switch value before: " + defaultSwitch.getAttribute("value"));

		// Toggle the switch
		defaultSwitch.click();

//		String tab2 = driver.findElement(AppiumBy.iOSClassChain("**/XCUIElementTypeOther[`name == \"TINTED\"`][2]")).getText();
//		Assert.assertEquals(tab2, "TINTED");
//		driver.findElement(AppiumBy.iOSClassChain("**/XCUIElementTypeSwitch[`value == \"0\"`]")).click();
//		Thread.sleep(5000);
//		driver.findElement(AppiumBy.iOSClassChain("**/XCUIElementTypeSwitch[`value == \"1\"`][2]")).click();
	}

}
